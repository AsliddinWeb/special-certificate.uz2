{% extends 'base.html' %}
{% load static %}

{% block title %}{{ news.title }} | Special Certificate{% endblock %}

{% block meta_description %}{{ news.excerpt }}{% endblock %}

{% block content %}

<!-- Page Header -->
<section class="relative pt-32 pb-20 bg-gradient-to-br from-dark via-primary to-dark overflow-hidden">
    <div class="absolute inset-0 opacity-10">
        <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><defs><pattern id=%22grid%22 width=%2210%22 height=%2210%22 patternUnits=%22userSpaceOnUse%22><path d=%22M 10 0 L 0 0 0 10%22 fill=%22none%22 stroke=%22white%22 stroke-width=%220.5%22/></pattern></defs><rect width=%22100%22 height=%22100%22 fill=%22url(%23grid)%22/></svg>'); background-size: 50px 50px;"></div>
    </div>
    
    <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <!-- Back Link -->
        <a href="{% url 'news:list' %}" class="inline-flex items-center text-white/70 hover:text-white mb-6 transition-colors" data-aos="fade-up">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            Yangiliklarga qaytish
        </a>
        
        <!-- Category -->
        {% if news.category %}
        <span class="inline-block px-4 py-2 bg-secondary text-white rounded-full text-sm font-medium mb-6" data-aos="fade-up" data-aos-delay="50">
            {{ news.category.name }}
        </span>
        {% endif %}
        
        <!-- Title -->
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6 leading-tight" data-aos="fade-up" data-aos-delay="100">
            {{ news.title }}
        </h1>
        
        <!-- Meta -->
        <div class="flex flex-wrap items-center justify-center gap-6 text-gray-300" data-aos="fade-up" data-aos-delay="150">
            <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                {{ news.created_at|date:"d F, Y" }}
            </div>
            <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                </svg>
                {{ news.views }} ko'rish
            </div>
        </div>
    </div>
</section>

<!-- Article Content -->
<section class="py-16 bg-white dark:bg-gray-800">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Featured Image -->
        <div class="relative rounded-3xl overflow-hidden shadow-2xl mb-12 -mt-20" data-aos="fade-up">
            <img src="{{ news.image.url }}" alt="{{ news.title }}" class="w-full aspect-[16/9] object-cover">
        </div>
        
        <!-- Article Body -->
        <article class="prose prose-lg dark:prose-invert max-w-none" data-aos="fade-up" data-aos-delay="100">
            {{ news.content|linebreaks }}
        </article>
        
        <!-- Share Buttons -->
        <div class="flex items-center justify-center space-x-4 mt-12 pt-8 border-t border-gray-200 dark:border-gray-700" data-aos="fade-up">
            <span class="text-gray-600 dark:text-gray-400 font-medium">Ulashish:</span>
            <a href="https://t.me/share/url?url={{ request.build_absolute_uri }}&text={{ news.title }}" target="_blank" rel="noopener noreferrer" class="w-10 h-10 flex items-center justify-center rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" target="_blank" rel="noopener noreferrer" class="w-10 h-10 flex items-center justify-center rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
            </a>
            <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ news.title }}" target="_blank" rel="noopener noreferrer" class="w-10 h-10 flex items-center justify-center rounded-full bg-black text-white hover:bg-gray-800 transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
            </a>
        </div>
        
    </div>
</section>

<!-- Navigation -->
<section class="py-8 bg-gray-50 dark:bg-gray-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center">
            {% if previous_news %}
            <a href="{{ previous_news.get_absolute_url }}" class="group flex items-center text-gray-600 dark:text-gray-400 hover:text-secondary transition-colors">
                <svg class="w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                <span class="hidden sm:inline">Oldingi maqola</span>
            </a>
            {% else %}
            <div></div>
            {% endif %}
            
            <a href="{% url 'news:list' %}" class="px-4 py-2 bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-colors">
                Barcha yangiliklar
            </a>
            
            {% if next_news %}
            <a href="{{ next_news.get_absolute_url }}" class="group flex items-center text-gray-600 dark:text-gray-400 hover:text-secondary transition-colors">
                <span class="hidden sm:inline">Keyingi maqola</span>
                <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </a>
            {% else %}
            <div></div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Related News -->
{% if related_news %}
<section class="py-16 bg-white dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-dark dark:text-white mb-8 text-center" data-aos="fade-up">
            O'xshash yangiliklar
        </h2>
        
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for item in related_news %}
            <article class="group bg-gray-50 dark:bg-gray-700 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300" data-aos="fade-up" data-aos-delay="{{ forloop.counter }}00">
                <a href="{{ item.get_absolute_url }}" class="block relative aspect-[16/10] overflow-hidden">
                    <img src="{{ item.image.url }}" alt="{{ item.title }}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                </a>
                <div class="p-6">
                    <div class="text-gray-500 dark:text-gray-400 text-sm mb-2">
                        {{ item.created_at|date:"d M, Y" }}
                    </div>
                    <h3 class="text-lg font-bold text-dark dark:text-white group-hover:text-secondary transition-colors line-clamp-2">
                        <a href="{{ item.get_absolute_url }}">{{ item.title }}</a>
                    </h3>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

{% endblock %}